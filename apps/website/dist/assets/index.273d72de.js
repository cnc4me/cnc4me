var Fe=Object.defineProperty,We=Object.defineProperties;var Xe=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var Q=(s,e,t)=>e in s?Fe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,L=(s,e)=>{for(var t in e||(e={}))J.call(e,t)&&Q(s,t,e[t]);if(v)for(var t of v(e))ee.call(e,t)&&Q(s,t,e[t]);return s},R=(s,e)=>We(s,Xe(e));var V=(s,e)=>{var t={};for(var r in s)J.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&v)for(var r of v(s))e.indexOf(r)<0&&ee.call(s,r)&&(t[r]=s[r]);return t};import{j as h,a,r as u,l as S,D as ue,b as O,c as o,L as X,C as $e,e as qe,t as te,i as Ye,R as je,d as He}from"./vendor.ce8247af.js";const Ze=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}};Ze();function de(s,e=8){return String(s).padStart(e,"0")}function Ke({errors:s}){return h("div",{className:"",children:[a("h1",{className:"pb-1 text-xl font-bold text-violet-400",children:"Errors:"}),s.map((e,t)=>{const r=de(t+1,2);return h("div",{className:"flex flex-row font-mono text-xs",children:[h("div",{className:"font-bold text-red-400",children:["E",r,":"]}),a("div",{className:"text-red-600",children:a("pre",{children:JSON.stringify(e,null," ")})})]},r)})]})}function ze(s){return{registerCustomLanguage(e,t){return et(s,e,t)},registerCustomTheme(e,t){return Je(s,e,t)}}}function Qe(s,e){return{brackets:s,tokenizer:{root:e}}}function me(s,e={base:"vs",inherit:!1}){return L(L({},e),s)}function Je(s,e,t){return s.editor.defineTheme(e,t),s}function et(s,e,t){return s.languages.register({id:e}),s.languages.setMonarchTokensProvider(e,t),s}const tt=Qe([["[","]","delimeter.bracket"]],[[/#\d/,"macro-var"],[/\(.+\)/,"comment"],[/[\=\+\-\*\/]/,"operators"],[/(\d+(?:\.\d+)?)/,"number"]]),rt=me({rules:[{token:"comment",foreground:"#C09D70",fontStyle:"italic"}],colors:{}},{base:"vs-dark",inherit:!0}),st=me({rules:[{token:"custom-info",foreground:"808080"},{token:"custom-error",foreground:"ff0000",fontStyle:"bold"},{token:"custom-notice",foreground:"FFA500"},{token:"custom-date",foreground:"008800"}],colors:{"editor.foreground":"#000000"}},{base:"vs",inherit:!1});function it(s){const{registerCustomLanguage:e,registerCustomTheme:t}=ze(s);return s.languages.typescript.javascriptDefaults.setEagerModelSync(!0),e("gcode",tt),t("gcode-dark",rt),t("gcode-light",st),s}function nt(s){const[e,t]=u.exports.useState(s);return[e,{setEditorThemeDark:()=>t("gcode-dark"),setEditorThemeLight:()=>t("gcode-light")}]}class ot{constructor(e){this.value=e.value,this.ctx=e.prefix}}class at{constructor(){this._entries={}}collect(e){const t=this._entries[e.ctx];return Array.isArray(t)||(this._entries[e.ctx]=[]),this._entries[e.ctx].push(e),this.get(e.ctx).length}get(e){var t;return(t=this._entries[e])!=null?t:[]}values(e){return S.exports.map(this.get(e),"value")}uniqValues(e){return S.exports.uniq(this.values(e))}min(e){var t;return(t=S.exports.min(this.values(e)))!=null?t:NaN}max(e){var t;return(t=S.exports.max(this.values(e)))!=null?t:NaN}}function d(s){return Array.isArray(s)?s[0]:s}function re(s){return s.replace(/^\(/,"").replace(/\)$/,"").trim()}function m(s){return d(s).image}function lt(s){return s.replace(/^[A-Z]/,"")}function pe(s){return s.includes(".")?parseFloat(s):parseInt(s)}function y(s){return s*Math.PI/180}function k(s){return 180/Math.PI*s}function fe(s){const e=[],t=new Be,r=new xe,i=new Pt;if(s!=null&&s.preloadInput){const{errors:l,tokens:M}=t.tokenize(s.preloadInput);l&&l.push(...l),r.input=M}function n(l){const M=l(r);return i.visit(M)}return{lexer:t,parser:r,errors:e,interpreter:i,withParser:n}}function ht(s){return"G4"in s}function ge(s){return"G10"in s}const ct=ue("macro"),w=s=>ct.extend(s),ut=s=>ue.enable(s!=null?s:"macro:*"),U=w("memory");w("parser");w("runtime");const p=w("interpreter"),se=20,Ee={X:1,Y:2,Z:3,B:4};function ie(s,e){if(s<10||s>13)throw Error("Invalid tool group value.");return s*1e3+e}function ne(s,e){if(s<0||s>6)throw Error(`Cannot compose an offset from input: ${s}`);return{0:5200,1:5220,2:5240,3:5260,4:5280,5:5300,6:5320}[s]+Ee[e]}function oe(s,e){const t=s*se;return 7e3-se+t+Ee[e]}const dt={LENGTH_COMP:10,LENGTH:11,DIAMETER_COMP:12,DIAMETER:13},mt={COMMON:2,AUX:20},f={TOOL:dt,WORK:mt};function pt(s){const{addresses:e,gCodeMap:t}=s;if(!ge(t))throw Error("G10 not found.");return e.reduce((r,i)=>R(L({},r),{[i.prefix]:i.value}),{})}function ft(s){const{errors:e,parser:t,interpreter:r}=fe({preloadInput:s});if(e.length>0)return{error:e[0].message,result:null};const i=t.lines(),n=r.lines(i.children);return{error:null,result:pt(n[0])}}const gt=4003,{WORK:ae,TOOL:_}=f;function le(s){return S.exports.pick(s,["X","Y","Z","B"])}class Et{constructor(e){this._vars={},this.write(gt,e!=null?e:90)}get G53(){return this._getCommonWorkOffsetAxisLocations(0)}get G54(){return this._getCommonWorkOffsetAxisLocations(1)}get G55(){return this._getCommonWorkOffsetAxisLocations(2)}get G56(){return this._getCommonWorkOffsetAxisLocations(3)}get G57(){return this._getCommonWorkOffsetAxisLocations(4)}get G58(){return this._getCommonWorkOffsetAxisLocations(5)}get G59(){return this._getCommonWorkOffsetAxisLocations(6)}read(e){const t=this._vars[e];return U(`[READ ] #${e}= ${t}`),t}write(e,t){U(`[WRITE] #${e}= ${t}`);const r=this._vars[e];return this._vars[e]=t,{prev:r,curr:this._vars[e]}}clear(e){this._vars[typeof e=="string"?parseInt(e):e]=NaN}reset(){Object.keys(this._vars).forEach(e=>this.clear(e))}evalG10(e){const{error:t,result:r}=ft(e);if(r)this.g10(r);else throw Error(t)}g10(e){return U("[ G10 ]",e),O.match(e).with({L:ae.COMMON},i=>{var n=i,{P:t}=n,r=V(n,["P"]);this.setCommonWorkOffset(t,le(r))}).with({L:ae.AUX},i=>{var n=i,{P:t}=n,r=V(n,["P"]);this.setAuxWorkOffset(t,le(r))}).with({L:_.LENGTH_COMP,R:O.__.number},({P:t,R:r})=>{this.setToolLengthComp(t,r)}).with({L:_.LENGTH,R:O.__.number},({P:t,R:r})=>{this.setToolLength(t,r)}).with({L:_.DIAMETER_COMP,R:O.__.number},({P:t,R:r})=>{this.setToolDiameterComp(t,r)}).with({L:_.DIAMETER,R:O.__.number},({P:t,R:r})=>{this.setToolDiameter(t,r)}).run()}G54_1(e){const t=r=>oe(e,r);return{X:this.read(t("X")),Y:this.read(t("Y")),Z:this.read(t("Z")),B:this.read(t("B"))}}getToolOffsets(e){return{length:this.getToolLength(e),diameter:this.getToolDiameter(e),lengthComp:this.getToolLengthComp(e),diameterComp:this.getToolDiameterComp(e)}}setToolLength(e,t){this._setToolOffsetValue(e,f.TOOL.LENGTH,t)}getToolLength(e){return this._getToolOffsetValueByGroup(e,f.TOOL.LENGTH)}setToolLengthComp(e,t){this._setToolOffsetValue(e,f.TOOL.LENGTH_COMP,t)}getToolLengthComp(e){return this._getToolOffsetValueByGroup(e,f.TOOL.LENGTH_COMP)}setToolDiameter(e,t){this._setToolOffsetValue(e,f.TOOL.DIAMETER,t)}getToolDiameter(e){return this._getToolOffsetValueByGroup(e,f.TOOL.DIAMETER)}setToolDiameterComp(e,t){this._setToolOffsetValue(e,f.TOOL.DIAMETER_COMP,t)}getToolDiameterComp(e){return this._getToolOffsetValueByGroup(e,f.TOOL.DIAMETER_COMP)}setCommonWorkOffset(e,t){U("[O-SET]",`G${e+53}=`,t),Object.entries(t).forEach(([r,i])=>{const n=ne(e,r);this.write(n,i)})}setAuxWorkOffset(e,t){U("[O-SET]",`G54.1 P${e}=`,t),Object.entries(t).forEach(([r,i])=>{const n=oe(e,r);this.write(n,i)})}toArray(){const e=[];return Object.entries(this._vars).forEach(([t,r])=>{isNaN(r)||e.push([parseInt(t),r])}),e}toObject(){const e={};return Object.entries(this._vars).forEach(([t,r])=>{isNaN(r)||(e[parseInt(t)]=r)}),e}serialize(){return JSON.stringify(this.toObject())}_setToolOffsetValue(e,t,r){const i=ie(t,e);this.write(i,r)}_getToolOffsetValueByGroup(e,t){const r=ie(t,e);return this.read(r)}_getCommonWorkOffsetAxisLocations(e){return["X","Y","Z","B"].reduce((t,r)=>{const i=ne(e,r);return R(L({},t),{[r]:this.read(i)})},{})}_increment(e,t){const r=this._vars[e];return this._vars[e]=r+t,{prev:r,curr:this._vars[e]}}}const N=s=>o({name:s,pattern:X.NA}),$=N("Brackets"),b=N("NumericValue"),g=N("BooleanOperator"),I=N("AdditionOperator"),T=N("ControlFlowKeyword"),G=N("MultiplicationOperator"),Lt=o({name:"EqualTo",pattern:/EQ/,categories:g}),Ot=o({name:"NotEqualTo",pattern:/NE/,categories:g}),Nt=o({name:"LessThan",pattern:/LT/,categories:g}),Tt=o({name:"LessThanOrEq",pattern:/LE/,categories:g}),Mt=o({name:"GreaterThan",pattern:/GT/,categories:g}),Ct=o({name:"GreaterThanOrEq",pattern:/GE/,categories:g}),Ut=o({name:"OpenParen",pattern:"("}),St=o({name:"CloseParen",pattern:")"}),x=o({name:"OpenBracket",pattern:"[",categories:$}),B=o({name:"CloseBracket",pattern:"]",categories:$}),he=/[O|:](\d+)/y;function At(s,e){let t=null;if(he.lastIndex=e,t=he.exec(s),t!==null){const r=t[0];t.payload=parseInt(r.slice(1))}return t}const c=o({name:"Address",pattern:/[A-Z]/}),Le=o({name:"G_Code",pattern:/G\d+(\.\d+)?/,longer_alt:c}),Oe=o({name:"M_Code",pattern:/M\d+(\.)?/,longer_alt:c}),Ne=o({name:"LineNumber",pattern:/N\d+/,longer_alt:c}),Te=o({name:"ProgramNumber",pattern:At,line_breaks:!0}),q=o({name:"Integer",pattern:/\d+/,categories:b}),bt=o({name:"Decimal",pattern:/(?=\d*[.])([0-9]+\.?[0-9]*|\.[0-9]+)/,longer_alt:q,categories:b}),Me=o({name:"BuiltinFunctions",pattern:/SIN|ASIN|COS|ACOS|TAN|ATAN|SQRT|ABS|BIN|BCD|ROUND|FIX|FUP|LN|EXP/,longer_alt:c}),vt=o({name:"WhiteSpace",pattern:/[\s\t\r]+/,group:X.SKIPPED}),D=o({name:"Comment",pattern:/\(\s*(.+?)\s*\)/,start_chars_hint:["("]}),Ce=o({name:"GotoLine",pattern:/GOTO[1-9][0-9]*/,longer_alt:c,categories:T}),Ue=o({name:"If",pattern:/IF/,longer_alt:c,categories:T}),Se=o({name:"Then",pattern:/THEN/,longer_alt:c,categories:T}),Rt=o({name:"Do",pattern:/DO/,longer_alt:c,categories:T}),_t=o({name:"While",pattern:/WHILE/,longer_alt:c,categories:T}),Ae=o({name:"Plus",pattern:"+",categories:I}),F=o({name:"Minus",pattern:"-",categories:I}),xt=o({name:"Divide",pattern:"/",categories:G}),be=o({name:"Product",pattern:"*",categories:G}),ve=o({name:"Var",pattern:"#"}),Re=o({name:"Equals",pattern:"="}),W=o({name:"Percent",pattern:"%"});o({name:"Dot",pattern:"."});const Bt=o({name:"Comma",pattern:","}),A=o({name:"Newline",pattern:`
`}),_e=[A,vt,W,D,Lt,Ot,Mt,Ct,Nt,Tt,Ue,Rt,Se,_t,Ce,Me,ve,Re,Bt,xt,be,F,Ae,Le,Oe,Ne,Te,c,bt,q,Ut,St,x,B,T,$,b,g,I,G];class xe extends $e{constructor(){super(_e);this.program=this.RULE("program",()=>{this.SUBRULE(this.StartOfFile),this.SUBRULE(this.ProgramNumberLine),this.SUBRULE(this.lines),this.SUBRULE(this.EndOfFile)}),this.lines=this.RULE("lines",()=>{this.MANY_SEP({SEP:A,DEF:()=>this.SUBRULE(this.Line)})}),this.Line=this.RULE("Line",()=>{this.MANY(()=>{this.OR([{ALT:()=>this.CONSUME(Ne)},{ALT:()=>this.CONSUME(Le)},{ALT:()=>this.CONSUME(Oe)},{ALT:()=>this.SUBRULE(this.AddressedValue)},{ALT:()=>this.SUBRULE(this.variableAssignment)},{ALT:()=>this.SUBRULE(this.conditionalExpression)},{ALT:()=>this.CONSUME(D)}])})}),this.AddressedValue=this.RULE("AddressedValue",()=>{this.CONSUME(c),this.OPTION(()=>{this.CONSUME(F)}),this.OR([{ALT:()=>this.CONSUME(b)},{ALT:()=>this.SUBRULE(this.VariableLiteral)},{ALT:()=>this.SUBRULE(this.bracketExpression)}])}),this.NumericLiteral=this.RULE("NumericLiteral",()=>{this.OPTION(()=>{this.CONSUME(F)}),this.CONSUME(b)}),this.VariableLiteral=this.RULE("VariableLiteral",()=>{this.CONSUME(ve),this.CONSUME(q)}),this.ValueLiteral=this.RULE("ValueLiteral",()=>{this.OR([{ALT:()=>this.SUBRULE(this.VariableLiteral)},{ALT:()=>this.SUBRULE(this.NumericLiteral)}])}),this.ProgramNumberLine=this.RULE("ProgramNumberLine",()=>{this.CONSUME(Te),this.CONSUME(D),this.CONSUME(A)}),this.expression=this.RULE("expression",()=>{this.SUBRULE(this.additionExpression)}),this.additionExpression=this.RULE("additionExpression",()=>{this.SUBRULE(this.multiplicationExpression,{LABEL:"lhs"}),this.MANY(()=>{this.CONSUME(I),this.SUBRULE2(this.multiplicationExpression,{LABEL:"rhs"})})}),this.multiplicationExpression=this.RULE("multiplicationExpression",()=>{this.SUBRULE(this.atomicExpression,{LABEL:"lhs"}),this.MANY(()=>{this.CONSUME(G),this.SUBRULE2(this.atomicExpression,{LABEL:"rhs"})})}),this.functionExpression=this.RULE("functionExpression",()=>{this.CONSUME(Me),this.CONSUME(x),this.SUBRULE(this.atomicExpression),this.CONSUME(B)}),this.booleanExpression=this.RULE("booleanExpression",()=>{this.SUBRULE(this.atomicExpression),this.CONSUME(g),this.SUBRULE2(this.atomicExpression)}),this.conditionalExpression=this.RULE("conditionalExpression",()=>{this.CONSUME(Ue),this.CONSUME(x),this.SUBRULE(this.booleanExpression),this.CONSUME(B),this.OR([{ALT:()=>this.CONSUME(Se)},{ALT:()=>this.CONSUME(Ce)}])}),this.atomicExpression=this.RULE("atomicExpression",()=>{this.OR([{ALT:()=>this.SUBRULE(this.bracketExpression)},{ALT:()=>this.SUBRULE(this.functionExpression)},{ALT:()=>this.SUBRULE(this.NumericLiteral)},{ALT:()=>this.SUBRULE(this.VariableLiteral)}])}),this.bracketExpression=this.RULE("bracketExpression",()=>{this.CONSUME(x),this.SUBRULE(this.expression),this.CONSUME(B)}),this.variableAssignment=this.RULE("variableAssignment",()=>{this.SUBRULE(this.VariableLiteral),this.CONSUME(Re),this.SUBRULE(this.expression)}),this.StartOfFile=this.RULE("StartOfFile",()=>{this.CONSUME(W),this.CONSUME(A)}),this.EndOfFile=this.RULE("EndOfFile",()=>{this.CONSUME(W),this.OPTION(()=>{this.CONSUME(A)})}),this.performSelfAnalysis()}}const wt=new xe;class It{get prefix(){return this._address}get image(){return`${this._address}${this.value}`}constructor(e){if(this.value=NaN,this._address=m(e.Address),this._isNegative=Boolean(e==null?void 0:e.Minus),e!=null&&e.NumericValue){const t=this._isNegative?"-":"";this.value=pe(`${t}${m(e.NumericValue)}`)}return this}}const Gt=wt.getBaseCstVisitorConstructorWithDefaults();class Pt extends Gt{constructor(){super();this.events=new qe,this.varWatches=[],this._mem=new Et,this._insights=new at,this.validateVisitor()}get Memory(){return this._mem}set Memory(e){this._mem=e}get Insights(){return this._insights}program(e){const t=this.ProgramNumberLine(e.ProgramNumberLine[0].children),r=this.lines(e.lines[0].children);return R(L({},t),{lines:r})}lines(e){const t=[];if(e.Line)for(const r of e.Line){const i=this.visit(r);t.push(i)}return t}ProgramNumberLine(e){const t=d(e.ProgramNumber),r=e!=null&&e.Comment?m(e.Comment):"";return{programTitle:re(r),programNumber:parseInt(t.payload)}}Line(e){const t={N:NaN,gCodes:[],mCodes:[],comments:[],addresses:[],gCodeMap:{},mCodeMap:{},addressMap:{}};if(ut(),e!=null&&e.LineNumber){const r=m(e.LineNumber);p(r),t.N=parseInt(lt(r))}if(e!=null&&e.G_Code&&e.G_Code.forEach(r=>{p(m(r)),t.gCodes.push(r),t.gCodeMap[r.image]=!0}),e!=null&&e.M_Code&&e.M_Code.forEach(r=>{p(m(r)),t.mCodes.push(r),t.mCodeMap[r.image]=!0}),e!=null&&e.variableAssignment){const{children:r}=d(e.variableAssignment);this.variableAssignment(r)}if(e!=null&&e.AddressedValue&&e.AddressedValue.forEach(({children:r})=>{const i=this.AddressedValue(r,t.gCodeMap);p(i),t.addresses.push(i),t.addressMap[i.prefix]=i.value}),e!=null&&e.Comment)for(const r of e.Comment){const i=m(r);p(i),t.comments.push(re(i))}if("G10"in t.gCodeMap){const{addressMap:r}=t;this._mem.g10({L:r.L,P:r.P,R:r.R,X:r.X,Y:r.Y,Z:r.Z,B:r.B})}return t}AddressedValue(e,t={}){const r=new It(e),i=new ot(r);return!ht(t)&&!ge(t)&&this._insights.collect(i),r}NumericLiteral(e){const t=m(e.NumericValue),r=e.Minus?"-":"";return pe(`${r}${t}`)}VariableLiteral(e){const t=parseInt(m(e.Integer));return this.getMacroRegister(t)}ValueLiteral(e){let t=NaN;if(e.VariableLiteral){const{children:r}=d(e.VariableLiteral);t=this.VariableLiteral(r).value}if(e.NumericLiteral){const{children:r}=d(e.NumericLiteral);t=this.NumericLiteral(r)}return t}variableAssignment(e){const t=d(e.VariableLiteral).children,r=this.VariableLiteral(t),i={register:r.register,curr:NaN,prev:r.value},n=d(e.expression).children,l=this.expression(n);i.curr=l,this.varWatches[r.register]&&this.varWatches[r.register](i),this.setMacroValue(r.register,l)}expression(e){const{children:t}=d(e.additionExpression);return this.additionExpression(t)}functionExpression(e){const{children:t}=d(e.atomicExpression),r=m(e.BuiltinFunctions),i=this.atomicExpression(t);return O.match(r).with("LN",()=>Math.log(i)).with("ABS",()=>Math.abs(i)).with("FUP",()=>Math.ceil(i)).with("SQRT",()=>Math.sqrt(i)).with("FIX",()=>Math.floor(i)).with("ROUND",()=>Math.round(i)).with("SIN",()=>Math.sin(y(i))).with("COS",()=>Math.cos(y(i))).with("TAN",()=>Math.tan(y(i))).with("ASIN",()=>k(Math.asin(i))).with("ACOS",()=>k(Math.acos(i))).with("ATAN",()=>k(Math.atan(i))).otherwise(()=>NaN)}additionExpression(e){let t=this.visit(e.lhs);return e.rhs&&e.rhs.forEach((r,i)=>{const n=this.visit(r);if(e!=null&&e.AdditionOperator){const l=e.AdditionOperator[i];te(l,Ae)?(p(t,"+",n),t+=n):(p(t,"-",n),t-=n)}}),t}multiplicationExpression(e){let t=this.visit(e.lhs);return e.rhs&&e.rhs.forEach((r,i)=>{const n=this.visit(r);if(e!=null&&e.MultiplicationOperator){const l=e.MultiplicationOperator[i];te(l,be)?(p(t,"*",n),t*=n):(p(t,"/",n),t/=n)}}),t}atomicExpression(e){return e.bracketExpression?this.bracketExpression(e.bracketExpression[0].children):e.NumericLiteral?this.NumericLiteral(e.NumericLiteral[0].children):e.functionExpression?this.functionExpression(e.functionExpression[0].children):e.VariableLiteral?this.VariableLiteral(e.VariableLiteral[0].children).value:NaN}bracketExpression(e){const{children:t}=d(e.expression);return this.expression(t)}getMacroRegister(e){var r;return{register:e,value:(r=this._mem.read(e))!=null?r:NaN}}getMacros(){return this._mem.toArray()}setMacroValue(e,t){this._mem.write(e,t)}setMacroVars(e){for(const[t,r]of e)this.setMacroValue(t,r)}watchMacroVar(e,t){this.varWatches[e]=t}}class Be extends X{constructor(){super(_e)}}new Be;function Vt(s){const{interpreter:e,lexer:t,parser:r}=fe(s);return{interpreter:e,lexer:t,parser:r}}function ce(){return["( VARIABLE ASSIGNMENTS )","#1=3.141592654","","( ALGEBRA )","#2=[1+2]*3","","( VARIABLE SUBSTITUTIONS )","#3=#2/#1","#4=[4*#2]-3","#5=[6+#3+#2]/[#4-#2]","","( BUILT-IN FUNCTIONS )","#6=ABS[-2.3512]","#7=SQRT[49]","#8=ROUND[#1]","#9=FUP[#1]","","( EVAL G10 LINES) ","G10 G90 L2 P1 X1.2345 Y9.8765 Z-8.6753 B270.","G10 G90 L20 P4 X11.1111 Y22.2222 Z3.3333 B90.","","( ... AND MORE! ) ",""].join(`
`)}function yt(){const{interpreter:s,parser:e,lexer:t}=Vt(),[r,i]=u.exports.useState([]);u.exports.useState(1),u.exports.useState(0);const n=u.exports.useRef();u.exports.useState([]);const[l,M]=u.exports.useState([]),[we,Ie]=u.exports.useState([]),[Y,j]=u.exports.useState([]),[Ge,kt]=nt("gcode-dark"),[Pe,Dt]=u.exports.useState({minimap:{enabled:!1}}),H=E=>{const{tokens:C,errors:K}=t.tokenize(E);K.length&&j(K),e.input=C;const{children:ke}=e.lines(),De=s.lines(ke);i(De),e.errors.length&&j(e.errors);const z=s.Memory.toArray();M(z.filter(P=>P[0]<=149)),Ie(z.filter(P=>P[0]>150))},Ve=E=>{H(String(E))},ye=E=>{n.current=E,H(ce())},Z=({macros:E})=>h("div",{className:"flex flex-col gap-1 px-4 pt-2 font-mono",children:[h("div",{className:"flex flex-row",children:[a("div",{className:"w-12 text-violet-100",children:"NO."}),a("div",{className:"pl-1 text-violet-100",children:"DATA"})]}),E.map(C=>h("div",{className:"flex flex-row",children:[h("div",{className:"w-12 pt-px text-violet-100",children:["#",de(C[0],4)]}),a("div",{className:"flex-grow pl-1 border-t border-l bg-violet-100 border-l-black border-t-black",children:C[1].toFixed(10)})]},C[0]))]});return h("div",{className:"flex flex-col h-screen overflow-y-hidden bg-neutral-800",children:[a("div",{className:"flex flex-row font-bold text-purple-200 border-b border-b-purple-600 bg-violet-900",children:a("div",{className:"flex-grow",children:a("h1",{className:"py-2 pl-4 text-2xl",children:"Fanuc Macro B Playground"})})}),h("div",{className:"flex flex-row flex-grow",children:[h("div",{className:"flex flex-col w-1/2 border-r border-r-purple-600",children:[h("p",{className:"px-6 py-3 text-sm italic border-b border-b-gray-900 text-violet-100",style:{backgroundColor:"#1E1E1E"},children:["\xBB"," Try editing some of the values!"]}),a(Ye,{theme:Ge,defaultLanguage:"gcode",options:Pe,defaultValue:ce(),onChange:Ve,onMount:ye,beforeMount:it}),Y.length>0?h("div",{className:"px-4 py-2 bg-neutral-800",children:[a(Ke,{errors:Y})," "]}):void 0]}),h("div",{className:"flex flex-col flex-grow bg-neutral-700",children:[a("h1",{className:"px-2 py-3 text-3xl shadow-neutral-800 bg-neutral-800 text-violet-500",children:"Macro Registers"}),h("div",{className:"grid grid-cols-2 grid-flow-row",children:[a("div",{className:"",children:a(Z,{macros:l})}),a("div",{className:"",children:a(Z,{macros:we})})]})]})]}),a("div",{className:"flex flex-row content-center text-purple-100 border-t border-t-purple-600 bg-violet-900",children:h("div",{className:"p-2 text-sm",children:["Made By"," ",a("a",{className:"text-purple-300 text-bold hover:text-white",href:"https://github.com/kevinkhill",children:"Kevin Hill"})," ","\xA9 2022"]})})]})}je.render(a(He.StrictMode,{children:a(yt,{})}),document.getElementById("root"));
