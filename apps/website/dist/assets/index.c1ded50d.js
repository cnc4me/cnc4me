var we=Object.defineProperty,Be=Object.defineProperties;var Ie=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var H=(s,e,t)=>e in s?we(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,E=(s,e)=>{for(var t in e||(e={}))Y.call(e,t)&&H(s,t,e[t]);if(b)for(var t of b(e))Z.call(e,t)&&H(s,t,e[t]);return s},v=(s,e)=>Be(s,Ie(e));var V=(s,e)=>{var t={};for(var r in s)Y.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&b)for(var r of b(s))e.indexOf(r)<0&&Z.call(s,r)&&(t[r]=s[r]);return t};import{l as C,D as oe,a as O,c as o,L as F,C as Ve,e as Pe,t as K,j as h,b as l,r as U,i as Ge,R as De,d as ye}from"./vendor.8694ec7f.js";const ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}};ke();class Fe{constructor(e){this.value=e.value,this.ctx=e.prefix}}class We{constructor(){this._entries={}}collect(e){const t=this._entries[e.ctx];return Array.isArray(t)||(this._entries[e.ctx]=[]),this._entries[e.ctx].push(e),this.get(e.ctx).length}get(e){var t;return(t=this._entries[e])!=null?t:[]}values(e){return C.exports.map(this.get(e),"value")}uniqValues(e){return C.exports.uniq(this.values(e))}min(e){var t;return(t=C.exports.min(this.values(e)))!=null?t:NaN}max(e){var t;return(t=C.exports.max(this.values(e)))!=null?t:NaN}}function d(s){return Array.isArray(s)?s[0]:s}function z(s){return s.replace(/^\(/,"").replace(/\)$/,"").trim()}function m(s){return d(s).image}function $e(s){return s.replace(/^[A-Z]/,"")}function ae(s){return s.includes(".")?parseFloat(s):parseInt(s)}function P(s){return s*Math.PI/180}function G(s){return 180/Math.PI*s}function le(s){const e=[],t=new Ae,r=new Ue,i=new Lt;if(s!=null&&s.preloadInput){const{errors:a,tokens:M}=t.tokenize(s.preloadInput);a&&a.push(...a),r.input=M}function n(a){const M=a(r);return i.visit(M)}return{lexer:t,parser:r,errors:e,interpreter:i,withParser:n}}function qe(s){return"G4"in s}function he(s){return"G10"in s}function Xe(s){const{parser:e,interpreter:t}=le({preloadInput:s}),r=e.lines();return{parser:e,interpreter:t,result:t.lines(r.children)}}const je=oe("macro"),w=s=>je.extend(s),He=s=>oe.enable(s!=null?s:"macro:*"),L=w("memory");w("parser");w("runtime");const p=w("interpreter"),Q=20,ce={X:1,Y:2,Z:3,B:4};function J(s,e){if(s<10||s>13)throw Error("Invalid tool group value.");return s*1e3+e}function ee(s,e){if(s<0||s>6)throw Error(`Cannot compose an offset from input: ${s}`);return{0:5200,1:5220,2:5240,3:5260,4:5280,5:5300,6:5320}[s]+ce[e]}function te(s,e){const t=s*Q;return 7e3-Q+t+ce[e]}const Ye={LENGTH_COMP:10,LENGTH:11,DIAMETER_COMP:12,DIAMETER:13},Ze={COMMON:2,AUX:20},f={TOOL:Ye,WORK:Ze};function Ke(s){const{addresses:e,gCodeMap:t}=s;if(!he(t))throw Error("G10 not found.");return e.reduce((r,i)=>v(E({},r),{[i.prefix]:i.value}),{})}function ze(s){const{errors:e,parser:t,interpreter:r}=le({preloadInput:s});if(e.length>0)return{error:e[0].message,result:null};const i=t.lines(),n=r.lines(i.children);return{error:null,result:Ke(n[0])}}const Qe=4003,{WORK:re,TOOL:R}=f;function se(s){return C.exports.pick(s,["X","Y","Z","B"])}class Je{constructor(e){this._vars={},this.write(Qe,e!=null?e:90)}get G53(){return this._getCommonWorkOffsetAxisLocations(0)}get G54(){return this._getCommonWorkOffsetAxisLocations(1)}get G55(){return this._getCommonWorkOffsetAxisLocations(2)}get G56(){return this._getCommonWorkOffsetAxisLocations(3)}get G57(){return this._getCommonWorkOffsetAxisLocations(4)}get G58(){return this._getCommonWorkOffsetAxisLocations(5)}get G59(){return this._getCommonWorkOffsetAxisLocations(6)}read(e){const t=this._vars[e];return L(`[READ ] #${e}= ${t}`),t}write(e,t){L(`[WRITE] #${e}= ${t}`);const r=this._vars[e];return this._vars[e]=t,{prev:r,curr:this._vars[e]}}clear(e){this._vars[typeof e=="string"?parseInt(e):e]=NaN}reset(){Object.keys(this._vars).forEach(e=>this.clear(e))}evalG10(e){const{error:t,result:r}=ze(e);if(r)this.g10(r);else throw Error(t)}g10(e){return L("[ G10 ]",e),O.match(e).with({L:re.COMMON},i=>{var n=i,{P:t}=n,r=V(n,["P"]);this.setCommonWorkOffset(t,se(r))}).with({L:re.AUX},i=>{var n=i,{P:t}=n,r=V(n,["P"]);this.setAuxWorkOffset(t,se(r))}).with({L:R.LENGTH_COMP,R:O.__.number},({P:t,R:r})=>{this.setToolLengthComp(t,r)}).with({L:R.LENGTH,R:O.__.number},({P:t,R:r})=>{this.setToolLength(t,r)}).with({L:R.DIAMETER_COMP,R:O.__.number},({P:t,R:r})=>{this.setToolDiameterComp(t,r)}).with({L:R.DIAMETER,R:O.__.number},({P:t,R:r})=>{this.setToolDiameter(t,r)}).otherwise(t=>{throw L(t),Error("INVALID `L` ADDRESS")})}G54_1(e){const t=r=>te(e,r);return{X:this.read(t("X")),Y:this.read(t("Y")),Z:this.read(t("Z")),B:this.read(t("B"))}}getToolOffsets(e){return{length:this.getToolLength(e),diameter:this.getToolDiameter(e),lengthComp:this.getToolLengthComp(e),diameterComp:this.getToolDiameterComp(e)}}setToolLength(e,t){this._setToolOffsetValue(e,f.TOOL.LENGTH,t)}getToolLength(e){return this._getToolOffsetValueByGroup(e,f.TOOL.LENGTH)}setToolLengthComp(e,t){this._setToolOffsetValue(e,f.TOOL.LENGTH_COMP,t)}getToolLengthComp(e){return this._getToolOffsetValueByGroup(e,f.TOOL.LENGTH_COMP)}setToolDiameter(e,t){this._setToolOffsetValue(e,f.TOOL.DIAMETER,t)}getToolDiameter(e){return this._getToolOffsetValueByGroup(e,f.TOOL.DIAMETER)}setToolDiameterComp(e,t){this._setToolOffsetValue(e,f.TOOL.DIAMETER_COMP,t)}getToolDiameterComp(e){return this._getToolOffsetValueByGroup(e,f.TOOL.DIAMETER_COMP)}setCommonWorkOffset(e,t){L("[O-SET]",`G${e+53}=`,t),Object.entries(t).forEach(([r,i])=>{const n=ee(e,r);this.write(n,i)})}setAuxWorkOffset(e,t){L("[O-SET]",`G54.1 P${e}=`,t),Object.entries(t).forEach(([r,i])=>{const n=te(e,r);this.write(n,i)})}toArray(){const e=[];return Object.entries(this._vars).forEach(([t,r])=>{isNaN(r)||e.push([parseInt(t),r])}),e}toObject(){const e={};return Object.entries(this._vars).forEach(([t,r])=>{isNaN(r)||(e[parseInt(t)]=r)}),e}serialize(){return JSON.stringify(this.toObject())}_setToolOffsetValue(e,t,r){const i=J(t,e);this.write(i,r)}_getToolOffsetValueByGroup(e,t){const r=J(t,e);return this.read(r)}_getCommonWorkOffsetAxisLocations(e){return["X","Y","Z","B"].reduce((t,r)=>{const i=ee(e,r);return v(E({},t),{[r]:this.read(i)})},{})}_increment(e,t){const r=this._vars[e];return this._vars[e]=r+t,{prev:r,curr:this._vars[e]}}}const N=s=>o({name:s,pattern:F.NA}),W=N("Brackets"),S=N("NumericValue"),g=N("BooleanOperator"),B=N("AdditionOperator"),T=N("ControlFlowKeyword"),I=N("MultiplicationOperator"),et=o({name:"EqualTo",pattern:/EQ/,categories:g}),tt=o({name:"NotEqualTo",pattern:/NE/,categories:g}),rt=o({name:"LessThan",pattern:/LT/,categories:g}),st=o({name:"LessThanOrEq",pattern:/LE/,categories:g}),it=o({name:"GreaterThan",pattern:/GT/,categories:g}),nt=o({name:"GreaterThanOrEq",pattern:/GE/,categories:g}),ot=o({name:"OpenParen",pattern:"("}),at=o({name:"CloseParen",pattern:")"}),_=o({name:"OpenBracket",pattern:"[",categories:W}),x=o({name:"CloseBracket",pattern:"]",categories:W}),ie=/[O|:](\d+)/y;function lt(s,e){let t=null;if(ie.lastIndex=e,t=ie.exec(s),t!==null){const r=t[0];t.payload=parseInt(r.slice(1))}return t}const u=o({name:"Address",pattern:/[A-Z]/}),ue=o({name:"G_Code",pattern:/G\d+(\.\d+)?/,longer_alt:u}),de=o({name:"M_Code",pattern:/M\d+(\.)?/,longer_alt:u}),me=o({name:"LineNumber",pattern:/N\d+/,longer_alt:u}),pe=o({name:"ProgramNumber",pattern:lt,line_breaks:!0}),$=o({name:"Integer",pattern:/\d+/,categories:S}),ht=o({name:"Decimal",pattern:/(?=\d*[.])([0-9]+\.?[0-9]*|\.[0-9]+)/,longer_alt:$,categories:S}),fe=o({name:"BuiltinFunctions",pattern:/SIN|ASIN|COS|ACOS|TAN|ATAN|SQRT|ABS|BIN|BCD|ROUND|FIX|FUP|LN|EXP/,longer_alt:u}),ct=o({name:"WhiteSpace",pattern:/[\s\t\r]+/,group:F.SKIPPED}),D=o({name:"Comment",pattern:/\(\s*(.+?)\s*\)/,start_chars_hint:["("]}),ge=o({name:"GotoLine",pattern:/GOTO[1-9][0-9]*/,longer_alt:u,categories:T}),Ee=o({name:"If",pattern:/IF/,longer_alt:u,categories:T}),Le=o({name:"Then",pattern:/THEN/,longer_alt:u,categories:T}),ut=o({name:"Do",pattern:/DO/,longer_alt:u,categories:T}),dt=o({name:"While",pattern:/WHILE/,longer_alt:u,categories:T}),Oe=o({name:"Plus",pattern:"+",categories:B}),y=o({name:"Minus",pattern:"-",categories:B}),mt=o({name:"Divide",pattern:"/",categories:I}),Ne=o({name:"Product",pattern:"*",categories:I}),Te=o({name:"Var",pattern:"#"}),Me=o({name:"Equals",pattern:"="}),k=o({name:"Percent",pattern:"%"});o({name:"Dot",pattern:"."});const pt=o({name:"Comma",pattern:","}),A=o({name:"Newline",pattern:`
`}),Ce=[A,ct,k,D,et,tt,it,nt,rt,st,Ee,ut,Le,dt,ge,fe,Te,Me,pt,mt,Ne,y,Oe,ue,de,me,pe,u,ht,$,ot,at,_,x,T,W,S,g,B,I];class Ue extends Ve{constructor(){super(Ce);this.program=this.RULE("program",()=>{this.SUBRULE(this.StartOfFile),this.SUBRULE(this.ProgramNumberLine),this.SUBRULE(this.lines),this.SUBRULE(this.EndOfFile)}),this.lines=this.RULE("lines",()=>{this.MANY_SEP({SEP:A,DEF:()=>this.SUBRULE(this.Line)})}),this.Line=this.RULE("Line",()=>{this.MANY(()=>{this.OR([{ALT:()=>this.CONSUME(me)},{ALT:()=>this.CONSUME(ue)},{ALT:()=>this.CONSUME(de)},{ALT:()=>this.SUBRULE(this.AddressedValue)},{ALT:()=>this.SUBRULE(this.variableAssignment)},{ALT:()=>this.SUBRULE(this.conditionalExpression)},{ALT:()=>this.CONSUME(D)}])})}),this.AddressedValue=this.RULE("AddressedValue",()=>{this.CONSUME(u),this.OPTION(()=>{this.CONSUME(y)}),this.OR([{ALT:()=>this.CONSUME(S)},{ALT:()=>this.SUBRULE(this.VariableLiteral)},{ALT:()=>this.SUBRULE(this.bracketExpression)}])}),this.NumericLiteral=this.RULE("NumericLiteral",()=>{this.OPTION(()=>{this.CONSUME(y)}),this.CONSUME(S)}),this.VariableLiteral=this.RULE("VariableLiteral",()=>{this.CONSUME(Te),this.CONSUME($)}),this.ValueLiteral=this.RULE("ValueLiteral",()=>{this.OR([{ALT:()=>this.SUBRULE(this.VariableLiteral)},{ALT:()=>this.SUBRULE(this.NumericLiteral)}])}),this.ProgramNumberLine=this.RULE("ProgramNumberLine",()=>{this.CONSUME(pe),this.CONSUME(D),this.CONSUME(A)}),this.expression=this.RULE("expression",()=>{this.SUBRULE(this.additionExpression)}),this.additionExpression=this.RULE("additionExpression",()=>{this.SUBRULE(this.multiplicationExpression,{LABEL:"lhs"}),this.MANY(()=>{this.CONSUME(B),this.SUBRULE2(this.multiplicationExpression,{LABEL:"rhs"})})}),this.multiplicationExpression=this.RULE("multiplicationExpression",()=>{this.SUBRULE(this.atomicExpression,{LABEL:"lhs"}),this.MANY(()=>{this.CONSUME(I),this.SUBRULE2(this.atomicExpression,{LABEL:"rhs"})})}),this.functionExpression=this.RULE("functionExpression",()=>{this.CONSUME(fe),this.CONSUME(_),this.SUBRULE(this.atomicExpression),this.CONSUME(x)}),this.booleanExpression=this.RULE("booleanExpression",()=>{this.SUBRULE(this.atomicExpression),this.CONSUME(g),this.SUBRULE2(this.atomicExpression)}),this.conditionalExpression=this.RULE("conditionalExpression",()=>{this.CONSUME(Ee),this.CONSUME(_),this.SUBRULE(this.booleanExpression),this.CONSUME(x),this.OR([{ALT:()=>this.CONSUME(Le)},{ALT:()=>this.CONSUME(ge)}])}),this.atomicExpression=this.RULE("atomicExpression",()=>{this.OR([{ALT:()=>this.SUBRULE(this.bracketExpression)},{ALT:()=>this.SUBRULE(this.functionExpression)},{ALT:()=>this.SUBRULE(this.NumericLiteral)},{ALT:()=>this.SUBRULE(this.VariableLiteral)}])}),this.bracketExpression=this.RULE("bracketExpression",()=>{this.CONSUME(_),this.SUBRULE(this.expression),this.CONSUME(x)}),this.variableAssignment=this.RULE("variableAssignment",()=>{this.SUBRULE(this.VariableLiteral),this.CONSUME(Me),this.SUBRULE(this.expression)}),this.StartOfFile=this.RULE("StartOfFile",()=>{this.CONSUME(k),this.CONSUME(A)}),this.EndOfFile=this.RULE("EndOfFile",()=>{this.CONSUME(k),this.OPTION(()=>{this.CONSUME(A)})}),this.performSelfAnalysis()}}const ft=new Ue;class gt{get prefix(){return this._address}get image(){return`${this._address}${this.value}`}constructor(e){if(this.value=NaN,this._address=m(e.Address),this._isNegative=Boolean(e==null?void 0:e.Minus),e!=null&&e.NumericValue){const t=this._isNegative?"-":"";this.value=ae(`${t}${m(e.NumericValue)}`)}return this}}const Et=ft.getBaseCstVisitorConstructorWithDefaults();class Lt extends Et{constructor(){super();this.events=new Pe,this.varWatches=[],this._mem=new Je,this._insights=new We,this.validateVisitor()}get Memory(){return this._mem}set Memory(e){this._mem=e}get Insights(){return this._insights}program(e){const t=this.ProgramNumberLine(e.ProgramNumberLine[0].children),r=this.lines(e.lines[0].children);return v(E({},t),{lines:r})}lines(e){const t=[];if(e.Line)for(const r of e.Line){const i=this.visit(r);t.push(i)}return t}ProgramNumberLine(e){const t=d(e.ProgramNumber),r=e!=null&&e.Comment?m(e.Comment):"";return{programTitle:z(r),programNumber:parseInt(t.payload)}}Line(e){const t={N:NaN,gCodes:[],mCodes:[],comments:[],addresses:[],gCodeMap:{},mCodeMap:{},addressMap:{}};if(He(),e!=null&&e.LineNumber){const r=m(e.LineNumber);p(r),t.N=parseInt($e(r))}if(e!=null&&e.G_Code&&e.G_Code.forEach(r=>{p(m(r)),t.gCodes.push(r),t.gCodeMap[r.image]=!0}),e!=null&&e.M_Code&&e.M_Code.forEach(r=>{p(m(r)),t.mCodes.push(r),t.mCodeMap[r.image]=!0}),e!=null&&e.variableAssignment){const{children:r}=d(e.variableAssignment);this.variableAssignment(r)}if(e!=null&&e.AddressedValue&&e.AddressedValue.forEach(({children:r})=>{const i=this.AddressedValue(r,t.gCodeMap);p(i),t.addresses.push(i),t.addressMap[i.prefix]=i.value}),e!=null&&e.Comment)for(const r of e.Comment){const i=m(r);p(i),t.comments.push(z(i))}if("G10"in t.gCodeMap){const{addressMap:r}=t;this._mem.g10({L:r.L,P:r.P,R:r.R,X:r.X,Y:r.Y,Z:r.Z,B:r.B})}return t}AddressedValue(e,t={}){const r=new gt(e),i=new Fe(r);return!qe(t)&&!he(t)&&this._insights.collect(i),r}NumericLiteral(e){const t=m(e.NumericValue),r=e.Minus?"-":"";return ae(`${r}${t}`)}VariableLiteral(e){const t=parseInt(m(e.Integer));return this.getMacroRegister(t)}ValueLiteral(e){let t=NaN;if(e.VariableLiteral){const{children:r}=d(e.VariableLiteral);t=this.VariableLiteral(r).value}if(e.NumericLiteral){const{children:r}=d(e.NumericLiteral);t=this.NumericLiteral(r)}return t}variableAssignment(e){const t=d(e.VariableLiteral).children,r=this.VariableLiteral(t),i={register:r.register,curr:NaN,prev:r.value},n=d(e.expression).children,a=this.expression(n);i.curr=a,this.varWatches[r.register]&&this.varWatches[r.register](i),this.setMacroValue(r.register,a)}expression(e){const{children:t}=d(e.additionExpression);return this.additionExpression(t)}functionExpression(e){const{children:t}=d(e.atomicExpression),r=m(e.BuiltinFunctions),i=this.atomicExpression(t);return O.match(r).with("LN",()=>Math.log(i)).with("ABS",()=>Math.abs(i)).with("FUP",()=>Math.ceil(i)).with("SQRT",()=>Math.sqrt(i)).with("FIX",()=>Math.floor(i)).with("ROUND",()=>Math.round(i)).with("SIN",()=>Math.sin(P(i))).with("COS",()=>Math.cos(P(i))).with("TAN",()=>Math.tan(P(i))).with("ASIN",()=>G(Math.asin(i))).with("ACOS",()=>G(Math.acos(i))).with("ATAN",()=>G(Math.atan(i))).otherwise(()=>NaN)}additionExpression(e){let t=this.visit(e.lhs);return e.rhs&&e.rhs.forEach((r,i)=>{const n=this.visit(r);if(e!=null&&e.AdditionOperator){const a=e.AdditionOperator[i];K(a,Oe)?(p(t,"+",n),t+=n):(p(t,"-",n),t-=n)}}),t}multiplicationExpression(e){let t=this.visit(e.lhs);return e.rhs&&e.rhs.forEach((r,i)=>{const n=this.visit(r);if(e!=null&&e.MultiplicationOperator){const a=e.MultiplicationOperator[i];K(a,Ne)?(p(t,"*",n),t*=n):(p(t,"/",n),t/=n)}}),t}atomicExpression(e){return e.bracketExpression?this.bracketExpression(e.bracketExpression[0].children):e.NumericLiteral?this.NumericLiteral(e.NumericLiteral[0].children):e.functionExpression?this.functionExpression(e.functionExpression[0].children):e.VariableLiteral?this.VariableLiteral(e.VariableLiteral[0].children).value:NaN}bracketExpression(e){const{children:t}=d(e.expression);return this.expression(t)}getMacroRegister(e){var r;return{register:e,value:(r=this._mem.read(e))!=null?r:NaN}}getMacros(){return this._mem.toArray()}setMacroValue(e,t){this._mem.write(e,t)}setMacroVars(e){for(const[t,r]of e)this.setMacroValue(t,r)}watchMacroVar(e,t){this.varWatches[e]=t}}class Ae extends F{constructor(){super(Ce)}}new Ae;function Se(s,e=8){return String(s).padStart(e,"0")}function Ot({errors:s}){return h("div",{className:"",children:[l("h1",{className:"pb-1 text-xl font-bold text-violet-400",children:"Errors:"}),s.map((e,t)=>{const r=Se(t+1,2);return h("div",{className:"flex flex-row font-mono text-xs",children:[h("div",{className:"font-bold text-red-400",children:["E",r,":"]}),l("div",{className:"text-red-600",children:l("pre",{children:JSON.stringify(e,null," ")})})]},r)})]})}function Nt(s){return{registerCustomLanguage(e,t){return Ct(s,e,t)},registerCustomTheme(e,t){return Mt(s,e,t)}}}function Tt(s,e){return{brackets:s,tokenizer:{root:e}}}function be(s,e={base:"vs",inherit:!1}){return E(E({},e),s)}function Mt(s,e,t){return s.editor.defineTheme(e,t),s}function Ct(s,e,t){return s.languages.register({id:e}),s.languages.setMonarchTokensProvider(e,t),s}const Ut=Tt([["[","]","delimeter.bracket"]],[[/#\d/,"macro-var"],[/\(.+\)/,"comment"],[/[\=\+\-\*\/]/,"operators"],[/(\d+(?:\.\d+)?)/,"number"]]),At=be({rules:[{token:"comment",foreground:"#C09D70",fontStyle:"italic"}],colors:{}},{base:"vs-dark",inherit:!0}),St=be({rules:[{token:"custom-info",foreground:"808080"},{token:"custom-error",foreground:"ff0000",fontStyle:"bold"},{token:"custom-notice",foreground:"FFA500"},{token:"custom-date",foreground:"008800"}],colors:{"editor.foreground":"#000000"}},{base:"vs",inherit:!1});function bt(s){const{registerCustomLanguage:e,registerCustomTheme:t}=Nt(s);return s.languages.typescript.javascriptDefaults.setEagerModelSync(!0),e("gcode",Ut),t("gcode-dark",At),t("gcode-light",St),s}function vt(s){const[e,t]=U.exports.useState(s);return[e,{setEditorThemeDark:()=>t("gcode-dark"),setEditorThemeLight:()=>t("gcode-light")}]}function ne(){return["( VARIABLE ASSIGNMENTS )","#1=3.141592654","( ALGEBRA )","#2=[1+2]*3","( VARIABLE SUBSTITUTIONS )","#3=#2/#1","#4=[4*#2]-3","#5=[6+#3+#2]/[#4-#2]","( BUILT-IN FUNCTIONS )","#6=ABS[-2.3512]","#7=SQRT[49]","#8=ROUND[#1]","#9=FUP[#1]","( ... AND MORE! ) ",""].join(`
`)}function Rt(){const s=U.exports.useRef(),[e,t]=U.exports.useState([]),[r,i]=U.exports.useState([]),[n,a]=vt("gcode-dark"),[M,_t]=U.exports.useState({minimap:{enabled:!1}}),q=c=>{const{interpreter:X,parser:j,result:xt}=Xe(c);[1,2,3,4,5,6,7,8,9].forEach(_e=>{X.watchMacroVar(_e,xe=>{console.log("macro variable updated!",xe)})}),j.errors.length&&i(j.errors),t(X.Memory.toArray())},ve=c=>{q(String(c))},Re=c=>{s.current=c,q(ne())};return h("div",{className:"flex flex-col h-screen overflow-y-hidden bg-neutral-800",children:[l("div",{className:"flex flex-row font-bold text-purple-200 border-b border-b-purple-600 bg-violet-900",children:l("div",{className:"flex-grow",children:l("h1",{className:"py-2 pl-4 text-2xl",children:"Fanuc Macro B Playground"})})}),h("div",{className:"flex flex-row flex-grow",children:[h("div",{className:"flex flex-col w-2/3 border-r border-r-purple-600",children:[h("p",{className:"px-6 py-3 text-sm italic border-b border-b-gray-900 text-violet-100",style:{backgroundColor:"#1E1E1E"},children:["\xBB"," Try editing some of the values!"]}),l(Ge,{theme:n,defaultLanguage:"gcode",options:M,defaultValue:ne(),onChange:ve,onMount:Re,beforeMount:bt})]}),h("div",{className:"flex flex-col flex-grow bg-neutral-700",children:[l("h1",{className:"px-2 py-3 text-3xl shadow-neutral-800 bg-neutral-800 text-violet-500",children:"Macro Registers"}),h("div",{className:"flex flex-col gap-1 px-4 pt-2 font-mono",children:[h("div",{className:"flex flex-row ",children:[l("div",{className:"w-12 text-violet-100",children:"NO."}),l("div",{className:"pl-1 text-violet-100",children:"DATA"})]}),e.map(c=>!isNaN(c[1])&&c[0]<1e3&&h("div",{className:"flex flex-row",children:[h("div",{className:"w-10 pt-px text-violet-100",children:["#",Se(c[0],3)]}),l("div",{className:"flex-grow pl-1 border-t border-l bg-violet-100 border-l-black border-t-black",children:c[1].toFixed(10)})]},c[0]))]}),r.length>0?h("div",{className:"px-4 py-2 bg-neutral-800",children:[l(Ot,{errors:r})," "]}):void 0]})]}),l("div",{className:"flex flex-row content-center text-purple-100 border-t border-t-purple-600 bg-violet-900",children:h("div",{className:"p-2 text-sm",children:["Made By"," ",l("a",{className:"text-purple-300 text-bold hover:text-white",href:"https://github.com/kevinkhill",children:"Kevin Hill"})," ","\xA9 2022"]})})]})}De.render(l(ye.StrictMode,{children:l(Rt,{})}),document.getElementById("root"));
